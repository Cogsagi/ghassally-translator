<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ghassally Translator</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    <script>
const e=React.createElement;const{useState:s,useEffect:u}=React;
const lex={'i':{g:'il',p:'eel'},'you':{g:'ut',p:'oot'},'we':{g:'wen',p:'wen'},'they':{g:'theyi',p:'THAY-ee'},'the':{g:'a',p:'ah'},'a':{g:'un',p:'un'},'an':{g:'un',p:'un'},'am':{g:'armi',p:'AR-mee'},'is':{g:'armi',p:'AR-mee'},'are':{g:'armi',p:'AR-mee'},'was':{g:'urzi',p:'UR-zee'},'were':{g:'urzi',p:'UR-zee'},'will':{g:'an',p:'an'},'can':{g:'kanni',p:'KAN-nee'},'have':{g:'havi',p:'HAH-vee'},'has':{g:'havi',p:'HAH-vee'},'in':{g:'a',p:'ah'},'on':{g:'op',p:'op'},'to':{g:'til',p:'til'},'for':{g:'for',p:'for'},'of':{g:'a',p:'ah'},'with':{g:'a',p:'ah'},'and':{g:'ok',p:'ok'},'or':{g:'bar',p:'bar'},'but':{g:'bar',p:'bar'},'if':{g:'om',p:'om'},'when':{g:'kvan',p:'kvan'},'why':{g:'kvarfor',p:'kvar-FOR'},'not':{g:'nai',p:'nigh'},'no':{g:'nai',p:'nigh'},'yes':{g:'ai',p:'eye'},'gnome':{g:'gnomaz',p:'GNOH-maz'},'gnomes':{g:'gnomi',p:'GNOH-mee'},'clan':{g:'throngaz',p:'THROHN-gaz'},'shadow':{g:'mhornaz',p:'MOR-naz'},'shadows':{g:'mhorni',p:'MOR-nee'},'hide':{g:'mhornit',p:'MOR-nit'},'hidden':{g:'mhorned',p:'MOR-ned'},'illusion':{g:'svellaz',p:'SVELL-az'},'trick':{g:'svellit',p:'SVELL-it'},'trickster':{g:'svellazi',p:'svell-AH-zee'},'mist':{g:'nebaz',p:'NEH-baz'},'fire':{g:'zharraz',p:'ZHAR-raz'},'stone':{g:'karaz',p:'KAR-az'},'stones':{g:'kari',p:'KAR-ee'},'mountain':{g:'karazz',p:'kah-RAZZ'},'water':{g:'aquaz',p:'AH-kwaz'},'wind':{g:'vindaz',p:'VIN-daz'},'winds':{g:'vindi',p:'VIN-dee'},'dark':{g:'dumbrak',p:'DOOM-brak'},'light':{g:'luccaz',p:'LOO-kaz'},'moon':{g:'lunaz',p:'LOO-naz'},'star':{g:'stellaz',p:'STELL-az'},'dwarf':{g:'dawaz',p:'DAH-waz'},'dwarfs':{g:'dawi',p:'DAH-wee'},'beard':{g:'tromaz',p:'TROH-maz'},'see':{g:'okrit',p:'OH-krit'},'walk':{g:'strolit',p:'STROH-lit'},'go':{g:'git',p:'git'},'come':{g:'komit',p:'KOH-mit'},'make':{g:'makkit',p:'MAH-kit'},'use':{g:'brukkit',p:'BRUK-kit'},'know':{g:'gnorrit',p:'GNOR-rit'},'speak':{g:'gassit',p:'GAH-sit'},'magic':{g:'magikaz',p:'mah-GIK-az'},'power':{g:'kraftaz',p:'KRAF-taz'},'human':{g:'umgaz',p:'UM-gaz'},'humans':{g:'umgi',p:'UM-gee'},'elf':{g:'elvaz',p:'EL-vaz'},'orc':{g:'urkaz',p:'UR-kaz'},'good':{g:'grundak',p:'GROON-dak'},'bad':{g:'umgak',p:'UM-gak'},'best':{g:'grundazza',p:'groon-DAH-zah'},'clever':{g:'gnolak',p:'GNOH-lak'},'strong':{g:'durak',p:'DUH-rak'},'small':{g:'pikkak',p:'PIK-kak'},'great':{g:'grungak',p:'GROON-gak'},'old':{g:'gamak',p:'GAM-ak'},'new':{g:'nuvak',p:'NOO-vak'},'home':{g:'zakaz',p:'ZAH-kaz'},'king':{g:'rikaz',p:'RIK-az'},'gold':{g:'goraz',p:'GOR-az'},'friend':{g:'drengaz',p:'DREN-gaz'},'enemy':{g:'grimaz',p:'GRIM-az'},'name':{g:'namaz',p:'NAH-maz'},'names':{g:'nami',p:'NAH-mee'},'our':{g:'wen',p:'wen'}};
const phr=[{c:"The shadow hides what the light reveals.",g:"A mhornaz mhornit kva a luccaz okrit.",p:"ah MOR-naz MOR-nit kvah ah LOO-kaz OH-krit",x:"Ancient Gnommi proverb"},{c:"In mist and shadow, we find our strength.",g:"A nebaz ok mhornaz, wen okrit kraftaz.",p:"ah NEH-baz ok MOR-naz, wen OH-krit KRAF-taz",x:"Traditional Glimdwarrow greeting"},{c:"The Grey Wind knows our names.",g:"A vindaz dumbrak gnorrit wen nami.",p:"ah VIN-daz DOOM-brak GNOR-rit wen NAH-mee",x:"Bond with Ulgu"}];

function App(){const[inp,setInp]=s('');const[phs,setPhs]=s(null);
u(()=>{setPhs(phr[Math.floor(Math.random()*phr.length)]);},[]);

const tw=w=>{const l=w.toLowerCase().trim();if(lex[l])return{t:lex[l].g,p:lex[l].p};if(l.endsWith('s')&&l.length>2){const sg=l.slice(0,-1);if(lex[sg])return{t:lex[sg].g.replace(/(az|ak)$/,'')+'i',p:lex[sg].p+'-ee'};}if(l.endsWith('ing')){const b=l.slice(0,-3);if(lex[b])return{t:lex[b].g,p:lex[b].p};}return{t:l,p:'(?)'};};

const ts=t=>{const ws=t.toLowerCase().split(/\s+/);const trs=[];const prs=[];ws.forEach(w=>{const cw=w.replace(/[.,!?;:]$/,'');const r=tw(cw);const pu=w.match(/[.,!?;:]$/);trs.push(pu?r.t+pu[0]:r.t);prs.push(r.p);});return{t:trs.join(' '),p:prs.join(' ')};};

const fp=p=>{if(!p)return null;return p.split(' ').map((pt,i)=>{const sg=pt.split(/([A-Z][A-Z-]*)/g).filter(Boolean);return e('span',{key:i,className:'inline-block mr-2'},sg.map((s,si)=>/^[A-Z][A-Z-]*$/.test(s)?e('span',{key:si,className:'text-amber-300 font-semibold'},s):e('span',{key:si,className:'text-slate-400'},s)));});};

const fg=(t,p)=>{if(!t||!p)return t;const tws=t.split(' ');const pws=p.split(' ');const pm={'gnoh':'gno','mhor':'mhor','svell':'svell','ar':'ar','groon':'grun','bruk':'bruk','zhar':'zhar','dah':'da','vin':'vin','doom':'dumb','gnor':'gnor'};return tws.map((w,i)=>{const pr=pws[i];if(!pr||pr==='(?)')return e('span',{key:i,className:'mr-2'},w);const cw=w.replace(/[.,!?;:]$/,'');const pu=w.match(/[.,!?;:]$/)?.[0]||'';const wl=cw.toLowerCase();const sm=pr.match(/[A-Z][A-Z-]*/g);if(!sm)return e('span',{key:i,className:'mr-2'},w);const ps=sm[0].toLowerCase().replace(/-/g,'');let si=-1,sl=0;si=wl.indexOf(ps);if(si!==-1){sl=ps.length;}else{for(const[so,sp]of Object.entries(pm)){if(ps.startsWith(so)){si=wl.indexOf(sp);if(si!==-1){sl=sp.length;break;}}}}if(si!==-1&&sl>0){const bf=cw.slice(0,si);const st=cw.slice(si,si+sl);const af=cw.slice(si+sl);return e('span',{key:i,className:'mr-2'},e('span',{className:'text-amber-100/70'},bf),e('span',{className:'text-amber-200 font-semibold'},st),e('span',{className:'text-amber-100/70'},af),pu);}return e('span',{key:i,className:'mr-2'},w);});};

const res=inp.trim()?ts(inp):{t:'',p:''};

return e('div',{className:'min-h-screen bg-gradient-to-br from-slate-800 via-slate-700 to-stone-700 p-6'},
e('div',{className:'max-w-6xl mx-auto'},
e('div',{className:'text-center mb-8'},
e('h1',{className:'text-4xl font-bold text-amber-400 mb-2'},'Ghassally Translator'),
e('p',{className:'text-slate-300 italic'},'Gnomish Dialect of Khazalid')),
phs&&e('div',{className:'bg-gradient-to-r from-slate-900 to-slate-800 rounded-lg shadow-xl p-6 mb-6 border border-amber-900/30'},
e('div',{className:'flex items-start gap-3'},
e('div',{className:'text-amber-500 text-2xl mt-1'},'✦'),
e('div',{className:'flex-1'},
e('h3',{className:'text-amber-300 font-semibold mb-3 text-sm uppercase tracking-wide'},'Gnomish Wisdom'),
e('p',{className:'text-slate-300 italic mb-2'},'"'+phs.c+'"'),
e('p',{className:'text-amber-100 font-serif text-lg mb-2'},phs.g),
e('p',{className:'text-slate-400 text-sm font-mono mb-3'},phs.p),
e('p',{className:'text-slate-500 text-xs italic'},'— '+phs.x)),
e('div',{className:'text-amber-500 text-2xl mt-1'},'✦'))),
e('div',{className:'bg-slate-900 rounded-lg shadow-xl p-6 mb-6'},
e('div',{className:'grid md:grid-cols-2 gap-6'},
e('div',null,
e('label',{className:'block text-amber-300 font-semibold mb-2'},'Reikspiel (Common)'),
e('textarea',{value:inp,onChange:ev=>setInp(ev.target.value),placeholder:'Type to translate...',className:'w-full h-48 p-4 bg-slate-800 text-slate-100 border border-slate-600 rounded-lg focus:ring-2 focus:ring-amber-500 resize-none'})),
e('div',null,
e('label',{className:'block text-amber-300 font-semibold mb-2'},'Ghassally (Gnomish)'),
e('div',{className:'w-full h-48 p-4 bg-slate-800 rounded-lg border border-amber-900/30 overflow-y-auto'},
res.t?e('p',{className:'text-amber-100 text-lg font-serif leading-relaxed'},fg(res.t,res.p)):e('p',{className:'text-slate-500 italic'},'Translation will appear here...'))))),
res.p&&e('div',{className:'bg-slate-900 rounded-lg shadow-xl p-6 mb-6'},
e('label',{className:'block text-amber-300 font-semibold mb-2'},'Pronunciation Guide:'),
e('div',{className:'p-4 bg-slate-800 rounded-lg border border-amber-900/30'},
e('p',{className:'text-lg leading-relaxed font-mono'},fp(res.p))),
e('div',{className:'mt-4 text-sm text-slate-400 space-y-1'},
e('p',null,'• ',e('span',{className:'text-amber-300 font-semibold'},'Highlighted syllables'),' are stressed'),
e('p',null,'• Roll your R\'s slightly for authenticity'))),
e('div',{className:'bg-slate-900 rounded-lg shadow-xl p-6'},
e('h2',{className:'text-xl font-bold text-amber-300 mb-4'},'Quick Reference'),
e('div',{className:'grid grid-cols-2 md:grid-cols-3 gap-4 text-sm'},
e('div',null,e('span',{className:'text-slate-400'},'Gnome: '),e('span',{className:'text-amber-100 ml-2 font-semibold'},'gnomaz')),
e('div',null,e('span',{className:'text-slate-400'},'Shadow: '),e('span',{className:'text-amber-100 ml-2 font-semibold'},'mhornaz')),
e('div',null,e('span',{className:'text-slate-400'},'To hide: '),e('span',{className:'text-amber-100 ml-2 font-semibold'},'mhornit'))))));}

const root=ReactDOM.createRoot(document.getElementById('root'));
root.render(e(App));
    </script>
</body>
</html>
